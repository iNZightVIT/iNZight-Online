{
    "contents" : "#######################################\n# Shiny interface for data functions\n#######################################\n# data ui and tabs\noutput$data_ui_and_tabs <- renderUI({\n  list(\n    includeCSS(\"www/style2.css\"),\n    # includeMathJax(\"www/js/MathJax.js\"),\n    tags$head(\n      tags$script(src = \"js/jquery-ui.custom.min.js\"),\n      tags$script(src = \"js/busy.js\")\n      # tags$script(src = \"js/MathJax.js?config=TeX-AMS-MML_HTMLorMML\") \n      #tags$script(src = 'https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML',\n      #  type = 'text/javascript')\n    ),\n\n    sidebarLayout(\n      sidebarPanel(\n        # based on https://groups.google.com/forum/?fromgroups=#!topic/shiny-discuss/PzlSAmAxxwo\n        div(class = \"busy\", style=\"z-index=9999;\",\n          p(\"Calculation in progress ...\"),\n          img(src=\"ajaxloaderq.gif\")\n        ),\n        wellPanel(\n          uiOutput(\"uiDatasets\")\n        ),\n        conditionalPanel(condition = \"input.datatabs == 'Input'\",\n          uiOutput(\"ui_Manage\")\n        ),\n        #conditionalPanel(condition = \"input.datatabs == 'View'\",\n        #  uiOutput(\"ui_View\")\n        #),\n        #conditionalPanel(condition = \"input.datatabs == 'Visualize'\",\n        #  uiOutput(\"ui_Visualize\")\n        #),\n        #conditionalPanel(condition = \"input.datatabs == 'Explore'\",\n        #  uiOutput(\"ui_Explore\")\n        #),\n        #conditionalPanel(condition = \"input.datatabs == 'Merge'\",\n        #  uiOutput(\"ui_Merge\")\n        #),\n        conditionalPanel(condition = \"input.datatabs == 'Manipulate variables'\",\n          uiOutput(\"ui_Transform\")\n        ),\n        conditionalPanel(condition = \"input.datatabs == 'Filter Dataset'||input.datatabs == 'Aggregate data' \",\n        uiOutput(\"filter_ui\")\n        ),\n        conditionalPanel(condition = \"input.datatabs == 'Sort data by variables'\",\n                         uiOutput(\"sortList_ui\")\n        )\n      ),\n      mainPanel(id = \"datatabs\",\n        uiOutput(\"tabs_data\")\n      )\n    )\n  )\n})\n\n# data tabs\noutput$tabs_data <- renderUI({\n  tabsetPanel(id = \"datatabs\",\n    tabPanel(\"Input\", htmlOutput(\"htmlDataExample\"), \n      HTML(paste('<label>', input$globalrowNum, '(max) rows shown. </label>')),\n      conditionalPanel(condition = \"input.man_add_descr == false\",\n        HTML(dataDescriptionOutput('html'))\n      ),\n      conditionalPanel(condition = \"input.man_add_descr == true\",\n        HTML(\"<label>Add data description:</label>\"),\n        tags$textarea(id=\"man_data_descr\", rows=\"10\", cols=\"12\", dataDescriptionOutput('md'))\n      )\n    ),\n    tabPanel(\"Manipulate variables\", \n             div(style=\"overflow-x:auto;\",htmlOutput(\"transform_data\")), \n             verbatimTextOutput(\"transform_summary\"),\n             verbatimTextOutput(\"error_result\"), \n             plotOutput('BlankSpace')),\n    tabPanel(\"Filter Dataset\", \n             htmlOutput('view_data')\n    ),\n    tabPanel(\"Aggregate data\",\n             htmlOutput('view_data2')\n    ),\n    tabPanel(\"Sort data by variables\",\n             htmlOutput('view_data3')\n             )\n  )\n})\n\nobserve({\n  ## this one fix the problem of input different dataset crash the webapp down\n  \n  #if (input$nav_radiant != \"Basic\"){\n  #input$datasets   ## the best way is to find if user change a dataset\n  input$datasets\n  updateSelectInput(session, \"x\", selected = \" \")\n  updateSelectInput(session, \"y\", selected = \" \")\n  updateSelectInput(session, \"A\", selected = \" \")\n  updateSelectInput(session, \"B\", selected = \" \")\n  \n}, priority = -10000)\n\n\n\n",
    "created" : 1412721873363.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3455614146",
    "id" : "5A00C52B",
    "lastKnownWriteTime" : 1412718752,
    "path" : "~/git/iNZight-Online/tools/data/data_ui_and_tabs.R",
    "project_path" : "tools/data/data_ui_and_tabs.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}